This repo needs to be cleaned and updated to the latest working version.

Each folder contains the same structure, but each running different filters.
- Extended Kalman Filter, for state estimation.
- Joint Extended Kalman Filter, for state and parameter estimation.
- Dual Extended Kalman Filter, for state and parameter estimation.


IMPORTANT NOTE 1: Run the measurementGenerator script first to generate the measurement data required by the filter. 
IMPORTANT NOTE 2: Also, Ensure that the parameters in both measurementGenerator and massSpring scripts are the same.

-massSpring*  -  This script is the main script that initialises the covariances and runs the filter.
-measurementGenerator* - This script generates the measurement data required by the filter in the massSpring script.

-force.m - This function generates an input force that is fed to the system.
-k_varying.m - This function generates a varying stiffness that is fed to the system.

-shadedErrorBar - This function can be used to visualise the plots along with covariances.

-dynamicFunctions/ This folder consists of the functions that is passed to the filter as function handles - process models and measurement models
-plots/ This folder, currently, stores manually saved plots from the filter results. A function can be written to plot and save figures automatically.
-robotData/ This folder is used to save the measurement.mat generated by measurementGeneratr script.
-symbolicFunctions/ - consists of the symbolic.m script which is used to generate the process ODE and measurement model files. Start with symbolic.m this folder to build the filter.
-utils/ consists of the EKF functions from the EKF/UKF toolbox used to run the filter.


=============================================================================================================================================


rigidBodyTests - We try to simulate rotating rigid body dynamics and estimate the orientation, velocity and wrenches acting on the body along with an adaptive parameter estimation for a constraint force acting on body due to compliant contact characterised by a rotational spring-damper system. 

Mainly used for testing the Adaptive EKF methods on a rotating rigid body in presence of varying parameters.

More or less has the same structure as the other folders.

IMPORTANT NOTE 1 : Run the script runInvDyn.m in order to generate measurement data and respective ground truth for given rotation and velocity trajectories.
IMPORTANT NOTE 1a : The process model correctness can be tested using testForward.m 
IMPORTANT NOTE 2 : Run testEKF_completeLeg.m to run the corresponding filter. Be aware to play with the options available in the script.

- 
